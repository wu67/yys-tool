import{d as fe,u as ge,I as x,c as u,Q as he,R as be,S as ke,J as ye,K as xe,T as Ae,U as we,V as Ce,L as Ve,M as Le,W as Se,o as i,k as p,j as n,w as s,A as a,N as v,i as o,h as P,n as N,X as Te,Y as qe,m as f,Z as Pe,F as A,l as w,t as m}from"./vendor.a886f0fc.js";/* empty css                 *//* empty css               *//* empty css                    */import{_ as ze,u as Ue,a as O}from"./index.b6277ccb.js";const z=D=>(Te("data-v-3998e21e"),D=D(),qe(),D),Ee={class:"page-equip-list"},Ie={class:"flex between",style:{"margin-bottom":"8px"}},je={class:"flex"},Me=z(()=>o("div",null,"\u4E3B\u5C5E\u6027\uFF1A",-1)),Ne=f("\u5168\u90E8\xA0\xA0"),Oe=f("\xA0 "),De=z(()=>o("i",{class:"el-icon-warning-outline"},null,-1)),Ye={class:"flex",style:{"margin-bottom":"8px"}},Be={class:"flex"},Fe=z(()=>o("div",null,"\u7B49\u7EA7\uFF1A",-1)),Re=f("\u5168\u90E8\xA0\xA0"),Ge=f("\xA0 "),He={class:"flex",style:{"margin-bottom":"8px"}},Je={class:"flex"},Ke=z(()=>o("div",null,"\u4F4D\u7F6E\uFF1A",-1)),Qe=f("\u5168\u90E8\xA0\xA0"),We=f("\xA0 "),Xe={class:"flex",style:{"margin-left":"60px"}},Ze=z(()=>o("div",null,"\u79CD\u7C7B\uFF1A",-1)),$e={class:"flex",style:{"margin-left":"40px"}},et=z(()=>o("div",null,"\u526F\u5C5E\u6027\uFF1A",-1)),tt={class:"flex attr-name"},lt={class:"main"},at={key:0,class:"fixed-name"},nt={class:"flex"},ot={key:0,class:"attr-value main"},st={key:1,class:"attr-value random"},it={key:2,class:"attr-value fixed-value"},ut={class:"born-time"},rt={class:"flex center pagination-wrap"},dt=fe({name:"equipList"});function ct(D){const{formatTime:Z}=Ue(),C=ge(),$=x(()=>C.getters.equipMap),ee=x(()=>C.getters.effectiveAttrList),H=x(()=>C.state.equipList),te=x(()=>C.getters.allAttrMap),J=function(l){return te.value[l]},K=function(l){return O.transNumberToChinese(l)},le=u([{key:"1",name:"4\u817F"},{key:"2",name:"\u7638\u817F"}]),ae=function(){Pe(()=>{g()})},U=x(()=>C.getters.allAttrList);let V=u(U.value.map(l=>l.key)),B=u(!1);const ne=function(l){V.value=l?U.value.map(t=>t.key):[],B.value=!1,r.value=1,g()};let E=u(!0);const oe=function(l){E.value=U.value.length===l.length,B.value=l.length>0&&l.length<U.value.length,r.value=1,g()};let L=u([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]),F=u(!1);const se=function(l){L.value=l?[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]:[],F.value=!1,r.value=1,g()};let I=u(!0);const ie=function(l){I.value=l.length===16,F.value=l.length>0&&l.length<16,r.value=1,g()};let j=u(!0),R=u(!1);const Y=u([0,1,2,3,4,5]),ue=function(l){Y.value=l?[0,1,2,3,4,5]:[],R.value=!1,r.value=1,g()},re=function(l){j.value=l.length===6,R.value=l.length>0&&l.length<6,r.value=1,g()},de=function({prop:l,order:t}){let y=(b,_)=>_.born-b.born;t==="descending"?y=(b,_)=>O.getAttrSum(_,l)-O.getAttrSum(b,l):t==="ascending"&&(y=(b,_)=>O.getAttrSum(b,l)-O.getAttrSum(_,l)),h.value=h.value.sort(y).map(b=>b)};let r=u(1),c=u(10),h=u([]);const ce=x(()=>h.value.length<c.value?h.value:h.value.slice((r.value-1)*c.value,h.value.length>r.value*c.value?r.value*c.value:h.value.length)),_e=function(){const l=localStorage.getItem("equipListPageSize");l?c.value=parseInt(l):localStorage.setItem("equipListPageSize",c.value)};he(c,()=>{r.value=1,localStorage.setItem("equipListPageSize",c.value)});let M=u("0"),S=u(null),T=u(""),q=u("");const Q=x(()=>C.getters["user/list"]),g=function(){const l=Q.value[parseInt(M.value)].data;h.value=l.hero_equips.filter(t=>V.value.indexOf(t.mainAttr.type)!==-1&&t.quality===6&&L.value.indexOf(t.level)!==-1&&Y.value.indexOf(t.pos)!==-1&&(q.value>0?q.value===t.suit_id:!0)).filter(t=>T.value==="1"?t.randomAttrsLength===4:T.value==="2"?t.randomAttrsLength!==4:!0).sort((t,y)=>y.born-t.born),S.value&&typeof S.value.clearSort=="function"&&S.value.clearSort()};return _e(),g(),(l,t)=>{const y=be,b=ke,_=ye,G=xe,pe=Ae,W=we,X=Ce,k=Ve,me=Le,ve=Se;return i(),p("div",Ee,[n(b,{modelValue:a(M),"onUpdate:modelValue":t[0]||(t[0]=e=>v(M)?M.value=e:M=e),size:"small",type:"card",onTabClick:ae},{default:s(()=>[(i(!0),p(A,null,w(a(Q),(e,d)=>(i(),P(y,{label:e.data.player.name,name:`${d}`,key:`user-${d}`},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),o("div",Ie,[o("div",je,[Me,n(_,{label:"all",modelValue:a(E),"onUpdate:modelValue":t[1]||(t[1]=e=>v(E)?E.value=e:E=e),onChange:ne,indeterminate:a(B)},{default:s(()=>[Ne]),_:1},8,["modelValue","indeterminate"]),Oe,n(G,{onChange:oe,modelValue:a(V),"onUpdate:modelValue":t[2]||(t[2]=e=>v(V)?V.value=e:V=e)},{default:s(()=>[(i(!0),p(A,null,w(a(U),e=>(i(),P(_,{label:e.key,key:e.key},{default:s(()=>[f(m(e.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),n(pe,{content:"\u672C\u9875\u9762\u53EA\u663E\u793A6\u661F\u5FA1\u9B42\uFF0C\u975E6\u661F\u4E0D\u4E88\u8003\u8651",placement:"left-start"},{default:s(()=>[De]),_:1})]),o("div",Ye,[o("div",Be,[Fe,n(_,{label:"all",modelValue:a(I),"onUpdate:modelValue":t[3]||(t[3]=e=>v(I)?I.value=e:I=e),onChange:se,indeterminate:a(F)},{default:s(()=>[Re]),_:1},8,["modelValue","indeterminate"]),Ge,n(G,{onChange:ie,modelValue:a(L),"onUpdate:modelValue":t[4]||(t[4]=e=>v(L)?L.value=e:L=e)},{default:s(()=>[(i(),p(A,null,w(16,e=>n(_,{label:e-1,key:e-1},{default:s(()=>[f(m(e-1)+"\u7EA7",1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])])]),o("div",He,[o("div",Je,[Ke,n(_,{label:"all",modelValue:a(j),"onUpdate:modelValue":t[5]||(t[5]=e=>v(j)?j.value=e:j=e),onChange:ue,indeterminate:a(R)},{default:s(()=>[Qe]),_:1},8,["modelValue","indeterminate"]),We,n(G,{onChange:re,modelValue:Y.value,"onUpdate:modelValue":t[6]||(t[6]=e=>Y.value=e)},{default:s(()=>[(i(),p(A,null,w(6,e=>n(_,{label:e-1,key:e},{default:s(()=>[f(m(K(e))+"\u53F7\u4F4D",1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),o("div",Xe,[Ze,a(H)?(i(),P(X,{key:0,modelValue:a(q),"onUpdate:modelValue":t[7]||(t[7]=e=>v(q)?q.value=e:q=e),clearable:"",size:"mini",placeholder:"\u53EF\u9009\u62E9\u8FC7\u6EE4\u79CD\u7C7B","no-data-text":"\u5168\u90E8",onChange:g},{default:s(()=>[(i(!0),p(A,null,w(a(H),e=>(i(),P(W,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):N("",!0)]),o("div",$e,[et,n(X,{modelValue:a(T),"onUpdate:modelValue":t[8]||(t[8]=e=>v(T)?T.value=e:T=e),clearable:"",size:"mini",placeholder:"\u53EF\u9009\u5219\u526F\u5C5E\u6027\u6570\u91CF","no-data-text":"\u5168\u90E8",onChange:g},{default:s(()=>[(i(!0),p(A,null,w(le.value,e=>(i(),P(W,{key:e.key,label:e.name,value:`${e.key}`},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),o("div",null,[n(me,{data:a(ce),onSortChange:de,"highlight-current-row":"",stripe:"",border:"",ref:(e,d)=>{d.equipTableRef=e,v(S)?S.value=e:S=e},style:{width:"100%"}},{default:s(()=>[n(k,{type:"index",fixed:"left",width:"50"}),n(k,{prop:"pos",label:"\u4F4D\u7F6E",width:"50",fixed:"left"},{default:s(e=>[f(m(K(e.row.pos+1)),1)]),_:1}),n(k,{width:"50",prop:"level",label:"\u7B49\u7EA7",fixed:"left"}),n(k,{label:"\u5FA1\u9B42\u7C7B\u578B",width:"80",fixed:"left"},{default:s(e=>[f(m(a($)[`${e.row.suit_id}`]),1)]),_:1}),n(k,{label:"\u4E3B\u5C5E\u6027",width:"130",fixed:"left"},{default:s(e=>[o("div",tt,[o("div",lt,m(J(e.row.mainAttr.type)),1),e.row.single_attrs.length>0?(i(),p("div",at,"\xA0|\xA0"+m(J(e.row.single_attrs[0].type)),1)):N("",!0)])]),_:1}),(i(!0),p(A,null,w(a(ee),e=>(i(),P(k,{label:e.name,"min-width":"125",align:"left",sortable:"custom",prop:e.key,key:e.key},{default:s(d=>[o("div",nt,[d.row.mainAttr.type===e.key?(i(),p("div",ot,m(d.row.mainAttr.value),1)):N("",!0),d.row[`${e.key}`]?(i(),p("div",st,m(d.row.mainAttr.type===e.key?"\xA0+":"")+m(d.row[`${e.key}`].toFixed(2)),1)):N("",!0),d.row.single_attrs.length>0&&d.row.single_attrs[0].type===e.key?(i(),p("div",it,"\xA0+"+m(d.row.single_attrs[0].value),1)):N("",!0)])]),_:2},1032,["label","prop"]))),128)),n(k,{label:"\u817F",width:"50",fixed:"right",prop:"randomAttrsLength"}),n(k,{label:"\u83B7\u5F97\u65F6\u95F4",width:"150",fixed:"right"},{default:s(e=>[o("div",ut,m(a(Z)(new Date((e.row.born-new Date().getTimezoneOffset()*60)*1e3),"YYYY-MM-DD HH:mm")),1)]),_:1})]),_:1},8,["data"])]),o("div",rt,[n(ve,{layout:"prev, pager, next, jumper, sizes, total",currentPage:a(r),"onUpdate:currentPage":t[9]||(t[9]=e=>v(r)?r.value=e:r=e),pageSize:a(c),"onUpdate:pageSize":t[10]||(t[10]=e=>v(c)?c.value=e:c=e),"page-sizes":[5,10,15,20,40,100],total:a(h).length},null,8,["currentPage","pageSize","total"])])])}}const _t=Object.assign(dt,{setup:ct});var ht=ze(_t,[["__scopeId","data-v-3998e21e"]]);export{ht as default};
