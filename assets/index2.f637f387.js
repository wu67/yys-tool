import{d as V,_ as ye,o as M,c as J,a as q,b as j,aO as _e,H as U,v as H,r as G,n as E,u as v,g as Y,w as Q,f as d,E as F,e as ee,j as te,T as Te,l as se,N as ue,m as K,aR as de,i as ne,a6 as oe,s as P,A as B,B as Ne,ab as be,bg as R,D as le,aE as ce,bh as Ce,bi as ke,C as fe,ac as we,V as Pe,aD as W,O as ve,I as $e,az as Se,x as Ee,aG as Be,bj as re,as as xe,J as Oe,K as ze,ai as Re}from"./index.e65334e6.js";import{u as Me,c as ae,U as pe}from"./index2.4f07c021.js";import{a as Ae}from"./arrow-left.eaacafe1.js";const Fe=V({name:"Plus"}),Ve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Le=q("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),De=[Le];function Ie(e,c,$,g,t,p){return M(),J("svg",Ve,De)}var Ke=ye(Fe,[["render",Ie]]);const X=Symbol("tabsRootContextKey"),He=j({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:_e,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),je={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},Ue={name:"ElTag"},qe=V({...Ue,props:He,emits:je,setup(e,{emit:c}){const $=e,g=Me(),t=U("tag"),p=H(()=>{const{type:n,hit:f,effect:b,closable:r,round:y}=$;return[t.b(),t.is("closable",r),t.m(n),t.m(g.value),t.m(b),t.is("hit",f),t.is("round",y)]}),C=n=>{n.stopPropagation(),c("close",n)},s=n=>{c("click",n)};return(n,f)=>n.disableTransitions?(M(),Y(Te,{key:1,name:`${v(t).namespace.value}-zoom-in-center`},{default:Q(()=>[q("span",{class:E(v(p)),style:te({backgroundColor:n.color}),onClick:s},[q("span",{class:E(v(t).e("content"))},[G(n.$slots,"default")],2),n.closable?(M(),Y(v(F),{key:0,class:E(v(t).e("close")),onClick:C},{default:Q(()=>[d(v(ae))]),_:1},8,["class"])):ee("v-if",!0)],6)]),_:3},8,["name"])):(M(),J("span",{key:0,class:E(v(p)),style:te({backgroundColor:n.color}),onClick:s},[q("span",{class:E(v(t).e("content"))},[G(n.$slots,"default")],2),n.closable?(M(),Y(v(F),{key:0,class:E(v(t).e("close")),onClick:C},{default:Q(()=>[d(v(ae))]),_:1},8,["class"])):ee("v-if",!0)],6))}});var We=se(qe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const ut=ue(We),Ge=j({tabs:{type:K(Array),default:()=>de([])}}),Je={name:"ElTabBar"},Xe=V({...Je,props:Ge,setup(e,{expose:c}){const $=e,g="ElTabBar",t=le(),p=ne(X);p||oe(g,"<el-tabs><el-tab-bar /></el-tabs>");const C=U("tabs"),s=P(),n=P(),f=()=>{let r=0,y=0;const a=["top","bottom"].includes(p.props.tabPosition)?"width":"height",i=a==="width"?"x":"y";return $.tabs.every(m=>{var S,A,L,D;const x=(A=(S=t.parent)==null?void 0:S.refs)==null?void 0:A[`tab-${m.paneName}`];if(!x)return!1;if(!m.active)return!0;y=x[`client${R(a)}`];const I=i==="x"?"left":"top";r=x.getBoundingClientRect()[I]-((D=(L=x.parentElement)==null?void 0:L.getBoundingClientRect()[I])!=null?D:0);const O=window.getComputedStyle(x);return a==="width"&&($.tabs.length>1&&(y-=Number.parseFloat(O.paddingLeft)+Number.parseFloat(O.paddingRight)),r+=Number.parseFloat(O.paddingLeft)),!1}),{[a]:`${y}px`,transform:`translate${R(i)}(${r}px)`}},b=()=>n.value=f();return B(()=>$.tabs,async()=>{await Ne(),b()},{immediate:!0}),be(s,()=>b()),c({ref:s,update:b}),(r,y)=>(M(),J("div",{ref_key:"barRef",ref:s,class:E([v(C).e("active-bar"),v(C).is(v(p).props.tabPosition)]),style:te(n.value)},null,6))}});var Ye=se(Xe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const Qe=j({panes:{type:K(Array),default:()=>de([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:K(Function),default:ce},onTabRemove:{type:K(Function),default:ce},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),ie="ElTabNav",Ze=V({name:ie,props:Qe,setup(e,{expose:c}){const $=le(),g=ne(X);g||oe(ie,"<el-tabs><tab-nav /></el-tabs>");const t=U("tabs"),p=Ce(),C=ke(),s=P(),n=P(),f=P(),b=P(!1),r=P(0),y=P(!1),a=P(!0),i=H(()=>["top","bottom"].includes(g.props.tabPosition)?"width":"height"),m=H(()=>({transform:`translate${i.value==="width"?"X":"Y"}(-${r.value}px)`})),S=()=>{if(!s.value)return;const o=s.value[`offset${R(i.value)}`],u=r.value;if(!u)return;const l=u>o?u-o:0;r.value=l},A=()=>{if(!s.value||!n.value)return;const o=n.value[`offset${R(i.value)}`],u=s.value[`offset${R(i.value)}`],l=r.value;if(o-l<=u)return;const k=o-l>u*2?l+u:o-u;r.value=k},L=()=>{const o=n.value;if(!b.value||!f.value||!s.value||!o)return;const u=f.value.querySelector(".is-active");if(!u)return;const l=s.value,k=["top","bottom"].includes(g.props.tabPosition),T=u.getBoundingClientRect(),_=l.getBoundingClientRect(),w=k?o.offsetWidth-_.width:o.offsetHeight-_.height,N=r.value;let h=N;k?(T.left<_.left&&(h=N-(_.left-T.left)),T.right>_.right&&(h=N+T.right-_.right)):(T.top<_.top&&(h=N-(_.top-T.top)),T.bottom>_.bottom&&(h=N+(T.bottom-_.bottom))),h=Math.max(h,0),r.value=Math.min(h,w)},D=()=>{if(!n.value||!s.value)return;const o=n.value[`offset${R(i.value)}`],u=s.value[`offset${R(i.value)}`],l=r.value;if(u<o){const k=r.value;b.value=b.value||{},b.value.prev=k,b.value.next=k+u<o,o-k<u&&(r.value=o-u)}else b.value=!1,l>0&&(r.value=0)},x=o=>{const u=o.code,{up:l,down:k,left:T,right:_}=W;if(![l,k,T,_].includes(u))return;const w=Array.from(o.currentTarget.querySelectorAll("[role=tab]")),N=w.indexOf(o.target);let h;u===T||u===l?N===0?h=w.length-1:h=N-1:N<w.length-1?h=N+1:h=0,w[h].focus(),w[h].click(),I()},I=()=>{a.value&&(y.value=!0)},O=()=>y.value=!1;return B(p,o=>{o==="hidden"?a.value=!1:o==="visible"&&setTimeout(()=>a.value=!0,50)}),B(C,o=>{o?setTimeout(()=>a.value=!0,50):a.value=!1}),be(f,D),fe(()=>setTimeout(()=>L(),0)),we(()=>D()),c({scrollToActiveTab:L,removeFocus:O}),B(()=>e.panes,()=>$.update(),{flush:"post"}),()=>{const o=b.value?[d("span",{class:[t.e("nav-prev"),t.is("disabled",!b.value.prev)],onClick:S},[d(F,null,{default:()=>[d(Ae,null,null)]})]),d("span",{class:[t.e("nav-next"),t.is("disabled",!b.value.next)],onClick:A},[d(F,null,{default:()=>[d(Pe,null,null)]})])]:null,u=e.panes.map((l,k)=>{var T,_;const w=l.props.name||l.index||`${k}`,N=l.isClosable||e.editable;l.index=`${k}`;const h=N?d(F,{class:"is-icon-close",onClick:z=>e.onTabRemove(l,z)},{default:()=>[d(ae,null,null)]}):null,ge=((_=(T=l.slots).label)==null?void 0:_.call(T))||l.props.label,he=l.active?0:-1;return d("div",{ref:`tab-${w}`,class:[t.e("item"),t.is(g.props.tabPosition),t.is("active",l.active),t.is("disabled",l.props.disabled),t.is("closable",N),t.is("focus",y.value)],id:`tab-${w}`,key:`tab-${w}`,"aria-controls":`pane-${w}`,role:"tab","aria-selected":l.active,tabindex:he,onFocus:()=>I(),onBlur:()=>O(),onClick:z=>{O(),e.onTabClick(l,w,z)},onKeydown:z=>{N&&(z.code===W.delete||z.code===W.backspace)&&e.onTabRemove(l,z)}},[ge,h])});return d("div",{ref:f,class:[t.e("nav-wrap"),t.is("scrollable",!!b.value),t.is(g.props.tabPosition)]},[o,d("div",{class:t.e("nav-scroll"),ref:s},[d("div",{class:[t.e("nav"),t.is(g.props.tabPosition),t.is("stretch",e.stretch&&["top","bottom"].includes(g.props.tabPosition))],ref:n,style:m.value,role:"tablist",onKeydown:x},[e.type?null:d(Ye,{tabs:[...e.panes]},null),u])])])}}}),et=j({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number],default:""},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:K(Function),default:()=>!0},stretch:Boolean}),Z=e=>Se(e)||Ee(e),tt={[pe]:e=>Z(e),"tab-click":(e,c)=>c instanceof Event,"tab-change":e=>Z(e),edit:(e,c)=>["remove","add"].includes(c),"tab-remove":e=>Z(e),"tab-add":()=>!0};var at=V({name:"ElTabs",props:et,emits:tt,setup(e,{emit:c,slots:$,expose:g}){const t=U("tabs"),p=P(),C=ve({}),s=P(e.modelValue||e.activeName||"0"),n=a=>{s.value=a,c(pe,a),c("tab-change",a)},f=async a=>{var i,m,S;if(s.value!==a)try{await((i=e.beforeLeave)==null?void 0:i.call(e,a,s.value))!==!1&&(n(a),(S=(m=p.value)==null?void 0:m.removeFocus)==null||S.call(m))}catch{}},b=(a,i,m)=>{a.props.disabled||(f(i),c("tab-click",a,m))},r=(a,i)=>{a.props.disabled||(i.stopPropagation(),c("edit",a.props.name,"remove"),c("tab-remove",a.props.name))},y=()=>{c("edit",void 0,"add"),c("tab-add")};return B(()=>e.activeName,a=>f(a)),B(()=>e.modelValue,a=>f(a)),B(s,async()=>{var a;(a=p.value)==null||a.scrollToActiveTab()}),$e(X,{props:e,currentName:s,registerPane:m=>C[m.uid]=m,unregisterPane:m=>delete C[m]}),g({currentName:s}),()=>{const a=e.editable||e.addable?d("span",{class:t.e("new-tab"),tabindex:"0",onClick:y,onKeydown:S=>{S.code===W.enter&&y()}},[d(F,{class:t.is("icon-plus")},{default:()=>[d(Ke,null,null)]})]):null,i=d("div",{class:[t.e("header"),t.is(e.tabPosition)]},[a,d(Ze,{ref:p,currentName:s.value,editable:e.editable,type:e.type,panes:Object.values(C),stretch:e.stretch,onTabClick:b,onTabRemove:r},null)]),m=d("div",{class:t.e("content")},[G($,"default")]);return d("div",{class:[t.b(),t.m(e.tabPosition),{[t.m("card")]:e.type==="card",[t.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[i,m]:[m,i]])}}});const st=j({label:{type:String,default:""},name:{type:[String,Number],default:""},closable:Boolean,disabled:Boolean,lazy:Boolean}),nt=["id","aria-hidden","aria-labelledby"],ot={name:"ElTabPane"},lt=V({...ot,props:st,setup(e){const c=e,$="ElTabPane",g=le(),t=Be(),p=ne(X);p||oe($,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const C=U("tab-pane"),s=P(),n=H(()=>c.closable||p.props.closable),f=re(()=>p.currentName.value===(c.name||s.value)),b=P(f.value),r=H(()=>c.name||s.value),y=re(()=>!c.lazy||b.value||f.value);B(f,i=>{i&&(b.value=!0)});const a=ve({uid:g.uid,slots:t,props:c,paneName:r,active:f,index:s,isClosable:n});return fe(()=>{p.registerPane(a)}),xe(()=>{p.unregisterPane(a.uid)}),(i,m)=>v(y)?Oe((M(),J("div",{key:0,id:`pane-${v(r)}`,class:E(v(C).b()),role:"tabpanel","aria-hidden":!v(f),"aria-labelledby":`tab-${v(r)}`},[G(i.$slots,"default")],10,nt)),[[ze,v(f)]]):ee("v-if",!0)}});var me=se(lt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const dt=ue(at,{TabPane:me}),bt=Re(me);export{ut as E,dt as a,bt as b,He as t};
