{"version":3,"sources":["webpack:///./src/pages/equipAnalysis.vue?845a","webpack:///src/pages/equipAnalysis.vue","webpack:///./src/pages/equipAnalysis.vue?c611","webpack:///./src/pages/equipAnalysis.vue","webpack:///./src/pages/equipAnalysis.vue?3ae9","webpack:///./src/pages/equipAnalysis.vue?64f7"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","user","userList","length","attrs","on","changeUser","model","value","callback","$$v","currentUser","expression","_l","u","userIndex","key","data","player","name","_e","directives","rawName","equip","equipIndex","class","importantSuit","indexOf","id","slot","_s","p","pIndex","transNumberToChinese","toFixed","staticRenderFns","mixins","components","filters","props","aData","loading","computed","watch","created","initData","mounted","updated","beforeDestroy","methods","equipList","map","position","item","single_attrs","born","level","pos","quality","suit_id","mainAttr","type","base_attr","result","push","temp","forEach","finalEquipData","speed","sort","setTimeout","$nextTick","getAttrSum","sum","attrName","multiply","parseFloat","mathjs","component"],"mappings":"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","file":"js/chunk-ad947b0e.12f6e7b0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-equip-analysis\"},[_c('div',{staticClass:\"herder\"},[_c('h2',[_vm._v(\"满速套装分析\")]),_c('h5',[_vm._v(\"用于分析某一套装的速度短板，方便赌魂/爆肝\")]),(_vm.user.userList.length > 1)?_c('el-tabs',{attrs:{\"type\":\"card\"},on:{\"tab-click\":_vm.changeUser},model:{value:(_vm.currentUser),callback:function ($$v) {_vm.currentUser=$$v},expression:\"currentUser\"}},_vm._l((_vm.user.userList),function(u,userIndex){return _c('el-tab-pane',{key:userIndex,attrs:{\"label\":u.data.player.name}})}),1):_vm._e()],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"flex wrap\"},_vm._l((_vm.aData),function(equip,equipIndex){return _c('el-card',{key:equipIndex,staticClass:\"equip-item\",class:{ 'important': _vm.importantSuit.indexOf(equip.id) !== -1 },attrs:{\"shadow\":\"hover\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',[_vm._v(_vm._s(equip.name))])]),_vm._l((equip.position),function(p,pIndex){return _c('div',{key:pIndex,staticClass:\"position\"},[_c('div',{staticClass:\"flex analysis-item\"},[_c('div',[_vm._v(\"位置\"+_vm._s(_vm.transNumberToChinese(pIndex + 1))+\": \")]),(p.length > 0)?_c('div',{staticClass:\"analysis-value\",class:{\n                'neck': (pIndex !==1 && p[0] > 13) || (pIndex === 1 && p[0] > (57 + 13)),\n                'full': (pIndex !==1 && p[0] > 15) || (pIndex === 1 && p[0] > (57 + 15)),\n                'rare': (pIndex !==1 && p[0] > 16.5) || (pIndex === 1 && p[0] > (57 + 16.5)),\n                'extreme': (pIndex !==1 && p[0] > 17) || (pIndex === 1 && p[0] > (57 + 17)),\n                'european': (pIndex !==1 && p[0] > 17.5) || (pIndex === 1 && p[0] > (57 + 17.5)),\n              }},[(pIndex === 1 && p[0] > 59)?_c('div',[_vm._v(_vm._s((p[0] - 57).toFixed(2)))]):(pIndex !== 1)?_c('div',[_vm._v(_vm._s(p[0].toFixed(2)))]):_vm._e()]):_vm._e()])])})],2)}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page-equip-analysis\">\n    <div class=\"herder\">\n      <h2>满速套装分析</h2>\n      <h5>用于分析某一套装的速度短板，方便赌魂/爆肝</h5>\n      <el-tabs v-model=\"currentUser\"\n               v-if=\"user.userList.length > 1\"\n               type=\"card\"\n               @tab-click=\"changeUser\">\n        <el-tab-pane :label=\"u.data.player.name\"\n                     v-for=\"(u, userIndex) in user.userList\"\n                     :key=\"userIndex\"></el-tab-pane>\n      </el-tabs>\n    </div>\n    <div class=\"flex wrap\" v-loading=\"loading\">\n      <el-card\n        class=\"equip-item\"\n        :class=\"{ 'important': importantSuit.indexOf(equip.id) !== -1 }\"\n        shadow=\"hover\"\n        v-for=\"(equip, equipIndex) in aData\"\n        :key=\"equipIndex\">\n        <div slot=\"header\">\n          <div>{{ equip.name }}</div>\n        </div>\n        <div class=\"position\" v-for=\"(p, pIndex) in equip.position\" :key=\"pIndex\">\n          <div class=\"flex analysis-item\">\n<!--            <div v-for=\"(speed, speedIndex) in p\" :key=\"speedIndex\">{{ speed }}</div>-->\n            <div>位置{{ transNumberToChinese(pIndex + 1) }}:&nbsp;</div>\n            <div\n              v-if=\"p.length > 0\"\n              class=\"analysis-value\"\n              :class=\"{\n                'neck': (pIndex !==1 && p[0] > 13) || (pIndex === 1 && p[0] > (57 + 13)),\n                'full': (pIndex !==1 && p[0] > 15) || (pIndex === 1 && p[0] > (57 + 15)),\n                'rare': (pIndex !==1 && p[0] > 16.5) || (pIndex === 1 && p[0] > (57 + 16.5)),\n                'extreme': (pIndex !==1 && p[0] > 17) || (pIndex === 1 && p[0] > (57 + 17)),\n                'european': (pIndex !==1 && p[0] > 17.5) || (pIndex === 1 && p[0] > (57 + 17.5)),\n              }\"\n            >\n              <!-- 二号位置仅显示双速的 -->\n              <div v-if=\"pIndex === 1 && p[0] > 59\">{{ (p[0] - 57).toFixed(2) }}</div>\n              <div v-else-if=\"pIndex !== 1\">{{ p[0].toFixed(2) }}</div>\n            </div>\n          </div>\n        </div>\n      </el-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  mapState\n} from 'vuex'\nimport mathjs from '@/utils/mathjs'\nimport baseMixin from '@/mixin'\n\nexport default {\n  name: 'equipAnalysis',\n  mixins: [\n    baseMixin\n  ],\n  components: {},\n  filters: {},\n  props: {},\n  data () {\n    return {\n      // 重点套装 版本之子\n      importantSuit: [\n        300002,\n        300010,\n        300012,\n        300013,\n        300015,\n        300019,\n        300021,\n        300023,\n        300034,\n        300035,\n        300079\n      ],\n      currentUser: 0,\n      aData: [],\n      loading: false\n    }\n  },\n  computed: {\n    ...mapState([\n      'user',\n      'equipList',\n      'notPercentAttr'\n    ])\n  },\n  watch: {},\n  created () {\n    this.initData()\n  },\n  mounted () {},\n  updated () {},\n  beforeDestroy () {},\n  methods: {\n    initData (attrName = 'Speed') {\n      this.loading = true\n      this.aData = this.equipList.map(equip => {\n        let finalEquipData = {\n          ...equip,\n          // 6个位置，按属性排序\n          position: [\n            [],\n            [],\n            [],\n            [],\n            [],\n            [],\n          ]\n        }\n        const userEquips = this.user.userList[parseInt(this.currentUser)].data.hero_equips\n        let temp = userEquips.map(item => {\n          const result = {\n            id: item.id,\n            single_attrs: [],\n            born: item.born,\n            level: item.level,\n            pos: item.pos,\n            quality: item.quality,\n            suit_id: item.suit_id,\n            mainAttr: {\n              type: item.base_attr.type\n            }\n          }\n          // 处理副属性\n          for (const rAttr of item.random_attrs) {\n            if (this.notPercentAttr.indexOf(rAttr.type) === -1) {\n              result[`${rAttr.type}`] = this.multiply(rAttr.value)\n            } else {\n              result[`${rAttr.type}`] = rAttr.value\n            }\n          }\n\n          // 处理主属性\n          if (this.notPercentAttr.indexOf(item.base_attr.type) === -1) {\n            result.mainAttr.value = this.multiply(item.base_attr.value)\n          } else {\n            result.mainAttr.value = item.base_attr.value\n          }\n\n          // 处理首领魂的固定属性 全是加成百分比属性. 当前版本最多只会有1条固定属性\n          if (item.single_attrs.length > 0) {\n            result.single_attrs.push({\n              type: item.single_attrs[0].type,\n              value: this.multiply(item.single_attrs[0].value)\n            })\n          }\n          return result\n        })\n        temp.forEach(item => {\n          if (item.suit_id === equip.id) {\n            let speed = this.getAttrSum(item, attrName)\n            finalEquipData.position[item.pos].push(speed)\n          }\n        })\n\n        finalEquipData.position.forEach(item => {\n          item.sort((a, b) => (b - a))\n        })\n        return finalEquipData\n      })\n      setTimeout(() => {\n        this.loading = false\n      }, 500)\n    },\n    changeUser () {\n      this.$nextTick(() => {\n        this.initData()\n      })\n    },\n    // 计算单个御魂中某个属性的总值\n    getAttrSum (equip, attrName) {\n      let sum = 0\n      sum += equip[`${attrName}`] || 0\n\n      // 主属性\n      if (equip.mainAttr.type === attrName) {\n        sum = sum + equip.mainAttr.value\n      }\n      // （首领魂）固定属性\n      if (equip.single_attrs.length > 0 && equip.single_attrs[0].type === attrName) {\n        sum = sum + equip.single_attrs[0].value\n      }\n      return sum\n    },\n    multiply (value, ratio = 100) {\n      return parseFloat(mathjs.chain(value).multiply(ratio).done().toPrecision(12))\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.page-equip-analysis {\n  .el-card__header {\n    padding: 10px 20px 6px;\n  }\n}\n</style>\n<style lang=\"scss\"\n       scoped>\n@import \"~@/assets/css/flex-custom.scss\";\n\n.page-equip-analysis {\n  padding: 0 16px 20px;\n  height: 100%;\n  width: 1600px;\n  margin: 0 auto;\n}\n\n.herder {\n  margin: 0 auto;\n  width: 1600px;\n}\n\n.equip-item {\n  width: 140px;\n  min-height: 140px;\n  margin-right: 8px;\n  margin-bottom: 10px;\n\n  & + .equip-item {\n    //margin\n  }\n}\n\n.analysis-item {\n  margin-bottom: 4px;\n}\n\n.analysis-value {\n  padding: 0 4px;\n  border-radius: 4px;\n}\n\n.neck {\n  background-color: #E1FFFF;\n}\n\n.full {\n  background-color: Green;\n  color: #fff;\n  font-weight: 500;\n}\n\n.rare {\n  background-color: DarkOrange;\n  color: #fff;\n  font-weight: 500;\n}\n\n.extreme {\n  background-color: OrangeRed;\n  color: #fff;\n  font-weight: 500;\n}\n\n.european {\n  background-color: #9400D3;\n  color: #fff;\n  font-weight: 500;\n}\n\n.important {\n  border-color: #bbb;\n  background-color: #f6f6f6;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipAnalysis.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipAnalysis.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./equipAnalysis.vue?vue&type=template&id=3b512947&scoped=true&\"\nimport script from \"./equipAnalysis.vue?vue&type=script&lang=js&\"\nexport * from \"./equipAnalysis.vue?vue&type=script&lang=js&\"\nimport style0 from \"./equipAnalysis.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./equipAnalysis.vue?vue&type=style&index=1&id=3b512947&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b512947\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipAnalysis.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipAnalysis.vue?vue&type=style&index=1&id=3b512947&lang=scss&scoped=true&\""],"sourceRoot":""}