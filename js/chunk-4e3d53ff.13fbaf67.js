(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e3d53ff"],{"04d1":function(t,e,n){var i=n("342f"),r=i.match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},"4de4":function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").filter,a=n("1dde"),l=a("filter");i({target:"Array",proto:!0,forced:!l},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4e82":function(t,e,n){"use strict";var i=n("23e7"),r=n("1c0b"),a=n("7b0b"),l=n("50c4"),s=n("577e"),c=n("d039"),o=n("addb"),u=n("a640"),h=n("04d1"),f=n("d998"),d=n("2d00"),p=n("512ce"),g=[],b=g.sort,v=c((function(){g.sort(void 0)})),m=c((function(){g.sort(null)})),k=u("sort"),A=!c((function(){if(d)return d<70;if(!(h&&h>3)){if(f)return!0;if(p)return p<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)g.push({k:e+i,v:n})}for(g.sort((function(t,e){return e.v-t.v})),i=0;i<g.length;i++)e=g[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}})),y=v||!m||!k||!A,L=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:s(e)>s(n)?1:-1}};i({target:"Array",proto:!0,forced:y},{sort:function(t){void 0!==t&&r(t);var e=a(this);if(A)return void 0===t?b.call(e):b.call(e,t);var n,i,s=[],c=l(e.length);for(i=0;i<c;i++)i in e&&s.push(e[i]);s=o(s,L(t)),n=s.length,i=0;while(i<n)e[i]=s[i++];while(i<c)delete e[i++];return e}})},"512ce":function(t,e,n){var i=n("342f"),r=i.match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},"58b1":function(t,e,n){},"94be":function(t,e,n){"use strict";n("58b1")},a13e:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-equip-list"},[n("el-tabs",{attrs:{size:"small",type:"card"},on:{"tab-click":t.changeUser},model:{value:t.currentUser,callback:function(e){t.currentUser=e},expression:"currentUser"}},t._l(t.userList,(function(t,e){return n("el-tab-pane",{key:e,attrs:{label:t.data.player.name}})})),1),n("div",{staticClass:"flex between",staticStyle:{"margin-bottom":"8px"}},[n("div",{staticClass:"flex"},[n("div",[t._v("主属性：")]),n("el-checkbox",{attrs:{label:"all",indeterminate:t.isIndeterminateAllAttr},on:{change:t.handleCheckAllAttrChange},model:{value:t.checkAllAttr,callback:function(e){t.checkAllAttr=e},expression:"checkAllAttr"}},[t._v("全部  ")]),t._v("  "),n("el-checkbox-group",{on:{change:t.handleCheckedAttrChange},model:{value:t.checkAttrList,callback:function(e){t.checkAttrList=e},expression:"checkAttrList"}},t._l(t.allAttrList,(function(e){return n("el-checkbox",{key:e.key,attrs:{label:e.key}},[t._v(t._s(e.name))])})),1)],1),n("el-tooltip",{attrs:{content:"本页面只显示6星御魂，非6星不予考虑",placement:"left-start"}},[n("i",{staticClass:"el-icon-warning-outline"})])],1),n("div",{staticClass:"flex",staticStyle:{"margin-bottom":"8px"}},[n("div",{staticClass:"flex"},[n("div",[t._v("等级：")]),n("el-checkbox",{attrs:{label:"all",indeterminate:t.isIndeterminateAllLevel},on:{change:t.handleCheckAllLevelChange},model:{value:t.checkAllLevel,callback:function(e){t.checkAllLevel=e},expression:"checkAllLevel"}},[t._v("全部  ")]),t._v("  "),n("el-checkbox-group",{on:{change:t.handleCheckedLevelChange},model:{value:t.checkLevelList,callback:function(e){t.checkLevelList=e},expression:"checkLevelList"}},t._l(16,(function(e){return n("el-checkbox",{key:e-1,attrs:{label:e-1}},[t._v(t._s(e-1)+"级")])})),1)],1)]),n("div",{staticClass:"flex",staticStyle:{"margin-bottom":"8px"}},[n("div",{staticClass:"flex"},[n("div",[t._v("位置：")]),n("el-checkbox",{attrs:{label:"all",indeterminate:t.isIndeterminateAllPosition},on:{change:t.handleCheckAllPositionChange},model:{value:t.checkAllPosition,callback:function(e){t.checkAllPosition=e},expression:"checkAllPosition"}},[t._v("全部  ")]),t._v("  "),n("el-checkbox-group",{on:{change:t.handleCheckedPositionChange},model:{value:t.checkPositionList,callback:function(e){t.checkPositionList=e},expression:"checkPositionList"}},t._l(6,(function(e){return n("el-checkbox",{key:e,attrs:{label:e-1}},[t._v(t._s(t.transNumberToChinese(e))+"号位")])})),1)],1),n("div",{staticClass:"flex",staticStyle:{"margin-left":"60px"}},[n("div",[t._v("种类：")]),t.equipList.length>1?n("el-select",{attrs:{clearable:"",size:"mini",placeholder:"可选择过滤种类","no-data-text":"全部"},on:{change:t.initData},model:{value:t.checkEquipType,callback:function(e){t.checkEquipType=e},expression:"checkEquipType"}},t._l(t.equipList,(function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1):t._e()],1),n("div",{staticClass:"flex",staticStyle:{"margin-left":"40px"}},[n("div",[t._v("副属性：")]),n("el-select",{attrs:{clearable:"",size:"mini",placeholder:"可选则副属性数量","no-data-text":"全部"},on:{change:t.initData},model:{value:t.randomAttrsLengthFilter,callback:function(e){t.randomAttrsLengthFilter=e},expression:"randomAttrsLengthFilter"}},t._l(t.randomAttrsSelectorList,(function(t){return n("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})})),1)],1)]),n("div",{},[n("el-table",{ref:"equipTable",staticStyle:{width:"100%"},attrs:{data:t.computedList,"highlight-current-row":"",stripe:"",border:""},on:{"sort-change":t.onTableSortChange}},[n("el-table-column",{attrs:{type:"index",fixed:"left",width:"50"}}),n("el-table-column",{attrs:{prop:"pos",label:"位置",width:"50",fixed:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.transNumberToChinese(e.row.pos+1))+" ")]}}])}),n("el-table-column",{attrs:{width:"50",prop:"level",label:"等级",fixed:"left"}}),n("el-table-column",{attrs:{label:"御魂类型",width:"80",fixed:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.equipMap[""+e.row.suit_id])+" ")]}}])}),n("el-table-column",{attrs:{label:"主属性",width:"130",fixed:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"flex attr-name"},[n("div",{staticClass:"main"},[t._v(t._s(t.transAttrToName(e.row.mainAttr.type)))]),e.row.single_attrs.length>0?n("div",{staticClass:"fixed-name"},[t._v(" | "+t._s(t.transAttrToName(e.row.single_attrs[0].type)))]):t._e()])]}}])}),t._l(t.effectiveAttrList,(function(e){return n("el-table-column",{key:e.key,attrs:{label:e.name,"min-width":"125",align:"left",sortable:"custom",prop:e.key},scopedSlots:t._u([{key:"default",fn:function(i){return[n("div",{staticClass:"flex"},[i.row.mainAttr.type===e.key?n("div",{staticClass:"attr-value main"},[t._v(" "+t._s(i.row.mainAttr.value)+" ")]):t._e(),i.row[""+e.key]?n("div",{staticClass:"attr-value random"},[t._v(" "+t._s(i.row.mainAttr.type===e.key?" +":"")+t._s(i.row[""+e.key].toFixed(2))+" ")]):t._e(),i.row.single_attrs.length>0&&i.row.single_attrs[0].type===e.key?n("div",{staticClass:"attr-value fixed-value"},[t._v("  +"+t._s(i.row.single_attrs[0].value)+" ")]):t._e()])]}}],null,!0)})})),n("el-table-column",{attrs:{label:"腿",width:"50",fixed:"right",prop:"randomAttrsLength"}}),n("el-table-column",{attrs:{label:"获得时间",width:"150",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"born-time"},[t._v(t._s(t._f("formatTime")(new Date(1e3*(e.row.born-60*(new Date).getTimezoneOffset())),"yyyy-MM-dd hh:mm")))])]}}])})],2)],1),n("div",{staticClass:"flex center pagination-wrap"},[n("el-pagination",{attrs:{layout:"prev, pager, next, jumper, sizes, total","current-page":t.currentPage,"page-size":t.pageSize,"page-sizes":[5,10,15,20,40,100],total:t.list.length},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e}}})],1)],1)},r=[],a=n("5530"),l=(n("fb6a"),n("d81d"),n("4e82"),n("4de4"),n("2f62")),s=n("ed08"),c=n("0712"),o={name:"equipList",mixins:[c["a"]],components:{},props:{},data:function(){return{currentUser:0,checkAllAttr:!0,isIndeterminateAllAttr:!1,checkAttrList:[],checkAllLevel:!0,isIndeterminateAllLevel:!1,checkLevelList:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],checkAllPosition:!0,isIndeterminateAllPosition:!1,checkPositionList:[0,1,2,3,4,5],checkEquipType:void 0,list:[],currentPage:1,pageSize:10,randomAttrsLengthFilter:"",randomAttrsSelectorList:[{key:1,name:"4腿"},{key:2,name:"瘸腿"}]}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(l["c"])(["equipList","notPercentAttr"])),Object(l["b"])(["equipMap","allAttrMap","allAttrList","effectiveAttrList"])),Object(l["b"])("user",["userList"])),{},{computedList:function(){return this.list.length<this.pageSize?this.list:this.list.slice((this.currentPage-1)*this.pageSize,this.list.length>this.currentPage*this.pageSize?this.currentPage*this.pageSize:this.list.length)}}),watch:{pageSize:function(){this.currentPage=1,localStorage.setItem("equipListPageSize",this.pageSize)}},created:function(){var t=localStorage.getItem("equipListPageSize");t?this.pageSize=parseInt(t):localStorage.setItem("equipListPageSize",this.pageSize),this.checkAttrList=this.allAttrList.map((function(t){return t.key})),this.initData()},updated:function(){},beforeDestroy:function(){},methods:{transNumberToChinese:function(t){return s["a"].transNumberToChinese(t)},changeUser:function(){var t=this;this.$nextTick((function(){t.initData()}))},handleCheckAllAttrChange:function(t){this.checkAttrList=t?this.allAttrList.map((function(t){return t.key})):[],this.isIndeterminateAllAttr=!1,this.currentPage=1,this.initData()},handleCheckedAttrChange:function(t){this.checkAllAttr=this.allAttrList.length===t.length,this.isIndeterminateAllAttr=t.length>0&&t.length<this.allAttrList.length,this.currentPage=1,this.initData()},handleCheckAllLevelChange:function(t){this.checkLevelList=t?[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]:[],this.isIndeterminateAllLevel=!1,this.currentPage=1,this.initData()},handleCheckedLevelChange:function(t){this.checkAllLevel=16===t.length,this.isIndeterminateAllLevel=t.length>0&&t.length<16,this.currentPage=1,this.initData()},handleCheckAllPositionChange:function(t){this.checkPositionList=t?[0,1,2,3,4,5]:[],this.isIndeterminateAllPosition=!1,this.currentPage=1,this.initData()},handleCheckedPositionChange:function(t){this.checkAllPosition=6===t.length,this.isIndeterminateAllPosition=t.length>0&&t.length<6,this.currentPage=1,this.initData()},initData:function(){var t=this,e=this.userList[parseInt(this.currentUser)].data;this.list=e.hero_equips.filter((function(e){return-1!==t.checkAttrList.indexOf(e.mainAttr.type)&&6===e.quality&&-1!==t.checkLevelList.indexOf(e.level)&&-1!==t.checkPositionList.indexOf(e.pos)&&(!(t.checkEquipType&&t.checkEquipType>0)||t.checkEquipType===e.suit_id)})).filter((function(e){return 1===t.randomAttrsLengthFilter?4===e.randomAttrsLength:2!==t.randomAttrsLengthFilter||4!==e.randomAttrsLength})).sort((function(t,e){return e.born-t.born})),this.$refs.equipTable&&"function"===typeof this.$refs.equipTable.clearSort&&this.$refs.equipTable.clearSort()},onTableSortChange:function(t){var e=t.prop,n=t.order,i=function(t,e){return e.born-t.born};"descending"===n?i=function(t,n){return s["a"].getAttrSum(n,e)-s["a"].getAttrSum(t,e)}:"ascending"===n&&(i=function(t,n){return s["a"].getAttrSum(t,e)-s["a"].getAttrSum(n,e)}),this.list=this.list.sort(i).map((function(t){return t}))},transAttrToName:function(t){return this.allAttrMap[t]},multiply:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return s["a"].multiply(t,e)}}},u=o,h=(n("94be"),n("2877")),f=Object(h["a"])(u,i,r,!1,null,"e96f1532",null);e["default"]=f.exports},addb:function(t,e){var n=Math.floor,i=function(t,e){var l=t.length,s=n(l/2);return l<8?r(t,e):a(i(t.slice(0,s),e),i(t.slice(s),e),e)},r=function(t,e){var n,i,r=t.length,a=1;while(a<r){i=a,n=t[a];while(i&&e(t[i-1],n)>0)t[i]=t[--i];i!==a++&&(t[i]=n)}return t},a=function(t,e,n){var i=t.length,r=e.length,a=0,l=0,s=[];while(a<i||l<r)a<i&&l<r?s.push(n(t[a],e[l])<=0?t[a++]:e[l++]):s.push(a<i?t[a++]:e[l++]);return s};t.exports=i},b64b:function(t,e,n){var i=n("23e7"),r=n("7b0b"),a=n("df75"),l=n("d039"),s=l((function(){a(1)}));i({target:"Object",stat:!0,forced:s},{keys:function(t){return a(r(t))}})},d998:function(t,e,n){var i=n("342f");t.exports=/MSIE|Trident/.test(i)},dbb4:function(t,e,n){var i=n("23e7"),r=n("83ab"),a=n("56ef"),l=n("fc6a"),s=n("06cf"),c=n("8418");i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,n,i=l(t),r=s.f,o=a(i),u={},h=0;while(o.length>h)n=r(i,e=o[h++]),void 0!==n&&c(u,e,n);return u}})},e439:function(t,e,n){var i=n("23e7"),r=n("d039"),a=n("fc6a"),l=n("06cf").f,s=n("83ab"),c=r((function(){l(1)})),o=!s||c;i({target:"Object",stat:!0,forced:o,sham:!s},{getOwnPropertyDescriptor:function(t,e){return l(a(t),e)}})}}]);
//# sourceMappingURL=chunk-4e3d53ff.13fbaf67.js.map